prometheus:
  prometheusSpec:
    enableRemoteWriteReceiver: true
    enableFeatures:
      - exemplar-storage
      - native-histograms

grafana:
  defaultDashboardsEnabled: false

  grafana.ini:
    auth.anonymous:
      enabled: true
      org_role: Admin
    auth:
      disable_login_form: true
    feature_toggles:
      enable: traceqlEditor

  plugins:
    - grafana-exploretraces-app

  additionalDataSources:
    - name: Tempo
      type: tempo
      access: proxy
      url: http://tempo:3100
      uid: tempo
      jsonData:
        httpMethod: GET
        serviceMap:
          datasourceUid: prometheus
        tracesToMetrics:
          datasourceUid: prometheus

    - name: Loki
      type: loki
      access: proxy
      url: http://loki-gateway:80
      jsonData:
        httpHeaderName1: "X-Scope-OrgID"
      secureJsonData:
        httpHeaderValue1: "fake"

# Disable components as k8s-monitoring already do it
alertmanager:
  enabled: false

prometheusOperator:
  enabled: true
nodeExporter:
  enabled: false
prometheus-node-exporter:
  enabled: false
prometheus-windows-exporter:
  prometheus:
    monitor:
      enabled: false

kubeApiServer:
  enabled: false
kubelet:
  enabled: false
kubeControllerManager:
  enabled: false
coreDns:
  enabled: false
kubeDns:
  enabled: false
kubeEtcd:
  enabled: false
kubeScheduler:
  enabled: false
kubeProxy:
  enabled: false
kubeStateMetrics:
  enabled: false
